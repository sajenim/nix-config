#!/bin/bash

# Setup monitors (machine-specific - consider making configurable)
xrandr --output HDMI-A-0 --mode 1920x1080 \
  --output DisplayPort-0 --mode 2560x1440 --right-of HDMI-A-0

# Apply wallpaper
feh --bg-center ~/.repositories/personal/nix-config/assets/chinatown.png

# Disable screen saver and DPMS features
xset s off -dpms

# Fix for pinentry bug on NixOS
gpgconf --reload gpg-agent

# Import X display into systemd user environment
systemctl --user import-environment DISPLAY XAUTHORITY

# Start XDG desktop portal backend
systemctl --user restart xdg-desktop-portal-gtk.service

# Launch window manager
exec xmonad
